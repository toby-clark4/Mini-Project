graphics opengl_better
background_color 1 1 1

light 0 position -50 50 0
light 0 diffuse 1 1 1
light 0 ambient 0.05 0.05 0.05
light 0 specular 1 1 1
#frame_thickness 0

dim 3
boundaries 0 -15 40 r
boundaries 1 -15 15 r
boundaries 2 -15 15 r

time_start 0
time_stop 10000
time_step 0.1

species PGL3 PGL3-mRNA PGL3p MEG3 MEG3-mRNA MEG3p MEX5 MEX5-mRNA Pgran mRNA


color PGL3 lightblue
color MEG3 lightred
#color MEX5 orange
color PGL3p darkgreen
color MEG3p yellow
color Pgran 0 0.1 0
#color mRNA black
color PGL3-mRNA darkblue
color MEG3-mRNA darkred

difc * 1
difc ???3* 5
difc *-mRNA 0.11
display_size * 0.3
display_size *-mRNA 1.5
display_size mRNA 0 #0.3
display_size Pgran 2


start_surface cellmembrane
    action all both reflect
    color both purple 1
    polygon both edge
    panel hemi 0 0 0 15 1 0 0 20 8
    panel hemi 20 0 0 15 -1 0 0 20 8
    panel cyl 0 0 0 20 0 0 15 20 8
end_surface


start_surface anteriordivider
    polygon both edge
    action all both transmit
    action MEX5 both reflect
    color both black 1
    panel disk 5 0 0 15 1 0 0 20
end_surface

#read_file MEX5_grad.txt

start_compartment cytoplasm
    surface cellmembrane
    point 0 0 0
end_compartment

start_compartment anterior
    surface cellmembrane
    surface anteriordivider
    point 10 0 0
end_compartment

start_compartment posterior
    surface cellmembrane
    surface anteriordivider
    point 0 0 0
end_compartment

compartment_mol 1000 PGL3 cytoplasm
compartment_mol 1000 MEG3 cytoplasm
#compartment_mol 2 Pgran cytoplasm
compartment_mol 5000 mRNA cytoplasm

reaction compartment=anterior pglp PGL3 -> PGL3p 1
reaction compartment=anterior meg3p MEG3 -> MEG3p 1
reaction compartment=posterior pglpase PGL3p -> PGL3 1
reaction compartment=posterior meg3pase MEG3p -> MEG3 1

reaction pgl3rna PGL3 + mRNA -> PGL3-mRNA 0.02
reaction pgl3rna-r PGL3-mRNA -> PGL3 + mRNA 0.64
product_placement pgl3rna-r pgemmax 0.2

reaction meg3rna MEG3 + mRNA -> MEG3-mRNA 0.02
reaction meg3rna-r MEG3-mRNA -> MEG3 + mRNA 0.64
product_placement meg3rna-r pgemmax 0.2

#28274.33 total cell volume
#10602.875 posterior
#37.5% volume

end_file